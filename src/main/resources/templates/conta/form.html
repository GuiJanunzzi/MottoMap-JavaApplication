<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/_header :: header}"></head>
<body>
<nav th:replace="~{fragments/_header :: navbar}"></nav>
<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <h2>Minha Conta</h2>
            <p>Use o formul√°rio abaixo para alterar sua senha de acesso.</p>
            <hr>

            <div th:if="${successMessage}" class="alert alert-success" th:text="${successMessage}"></div>
            <div th:if="${errorMessage}" class="alert alert-danger" th:text="${errorMessage}"></div>

            <form th:action="@{/minha-conta/alterar-senha}" th:object="${passwordChangeDTO}" method="post">
                <div class="mb-3">
                    <label for="senhaAtual" class="form-label">Senha Atual</label>
                    <input type="password" id="senhaAtual" class="form-control" th:field="*{senhaAtual}" required>
                    <div class="text-danger" th:if="${#fields.hasErrors('senhaAtual')}" th:errors="*{senhaAtual}"></div>
                </div>
                <div class="mb-3">
                    <label for="novaSenha" class="form-label">Nova Senha</label>
                    <input type="password" id="novaSenha" class="form-control" th:field="*{novaSenha}" required>
                    <div class="text-danger" th:if="${#fields.hasErrors('novaSenha')}" th:errors="*{novaSenha}"></div>
                </div>
                <div class="mb-3">
                    <label for="confirmacaoSenha" class="form-label">Confirmar Nova Senha</label>
                    <input type="password" id="confirmacaoSenha" class="form-control" th:field="*{confirmacaoSenha}" required>
                    <div class="text-danger" th:if="${#fields.hasErrors('confirmacaoSenha')}" th:errors="*{confirmacaoSenha}"></div>
                </div>
                <button type="submit" class="btn btn-primary">Alterar Senha</button>
            </form>
        </div>
    </div>
</div>
<footer th:replace="~{fragments/_footer :: footer}"></footer>
</body>
</html>